{% load static %}

<!DOCTYPE html>
<html lang="fr" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscription</title>

    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="{% static 'css/bootstrap-icons.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/signup.css' %}" rel="stylesheet">
</head>

<body class="d-flex align-items-center py-4">
    <div class="position-fixed" style="top: 10px; left:10px;">
        <a href="{% url 'home' %}">
            <i class="bi bi-arrow-left"></i>Retour à la page d'accueil
        </a>
    </div>
    <main class="form-signup w-100 m-auto">
        <form method="post">
            {% csrf_token %}
            <h1>Inscription</h1>
            <div class="mb-3">
                <label for="{{ form.username.id_for_label }}" class="form-label">Nom d'utilisateur</label>
                <input type="text" name="username" class="form-control" id="{{ form.username.id_for_label }}">
                
                {% if form.username.errors %}
                    <div class="alert alert-danger">
                        {{ form.username.errors }}
                    </div>
                {% endif %}
            </div>
            
            <div class="mb-3">
                <label for="{{ form.email.id_for_label }}" class="form-label">Adresse mail</label>
                <input type="email" name="email" class="form-control" id="{{ form.email.id_for_label }}">
                
                {% if form.email.errors %}
                    <div class="alert alert-danger">
                        {{ form.email.errors }}
                    </div>
                {% endif %}
            </div>
            
            <div class="mb-3">
                <label for="{{ form.password1.id_for_label }}" class="form-label">Mot de passe</label>
                <input type="password" name="password1" class="form-control" id="{{ form.password1.id_for_label }}">
                
                {% if form.password1.errors %}
                    <div class="alert alert-danger">
                        {{ form.password1.errors }}
                    </div>
                {% endif %}
            </div>
            
            <div class="mb-3">
                <label for="{{ form.password2.id_for_label }}" class="form-label">Confirmation du mot de passe</label>
                <input type="password" name="password2" class="form-control" id="{{ form.password2.id_for_label }}">
                
                {% if form.password2.errors %}
                    <div class="alert alert-danger">
                        {{ form.password2.errors }}
                    </div>
                {% endif %}
            </div>
            

            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault" onchange="togglePasswordVisibility('{{ form.password1.id_for_label }}', '{{ form.password2.id_for_label }}', 'flexSwitchCheckDefault')">
                <label class="form-check-label" for="flexSwitchCheckDefault">Afficher le mot de passe</label>
            </div>

            <button class="btn btn-light w-100 py-2" type="submit">S'inscrire</button>

            <p>Déjà un compte ? <a href="{% url 'login' %}">Se connecter</a></p>
        </form>
    </main>
    
    <script>
        function togglePasswordVisibility(password1Id, password2Id, switchId) {
          var password1Field = document.getElementById(password1Id);
          var password2Field = document.getElementById(password2Id);
          var passwordSwitch = document.getElementById(switchId);

          if (passwordSwitch) {
              var type = passwordSwitch.checked ? "text" : "password";
              password1Field.type = type;
              password2Field.type = type;
          }
        }
    </script>
    <script src="{% static 'js/custom.js' %}"></script>
    <script src="{% static 'js/bootstrap.bundle.min.js' %}" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

</body>
</html>